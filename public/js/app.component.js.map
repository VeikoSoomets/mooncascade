{"version":3,"sources":["app.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;YA0DA;gBAEC,sBACW,cAA8B,EAC9B,gBAAkC;oBADlC,mBAAc,GAAd,cAAc,CAAgB;oBAC9B,qBAAgB,GAAhB,gBAAgB,CAAkB;gBACxC,CAAC;gBAEL,kCAAW,GAAX;oBAAA,iBAIC;oBAHC,IAAI,CAAC,cAAc;yBACd,WAAW,EAAE;yBACb,IAAI,CAAC,UAAA,QAAQ,IAAI,OAAA,KAAI,CAAC,QAAQ,GAAG,QAAQ,EAAxB,CAAwB,CAAC,CAAC;gBAClD,CAAC;gBAED,oCAAa,GAAb;oBAAA,iBAMC;oBALC,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,CAAC;oBACpC,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,SAAS,CAC7C,UAAA,IAAI;wBACF,KAAI,CAAC,WAAW,EAAE,CAAC;oBACrB,CAAC,CAAC,CAAC;gBACP,CAAC;gBAED,+BAAQ,GAAR;oBACE,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,IAAI,CAAC,aAAa,EAAE,CAAC;gBACvB,CAAC;gBA5EH;oBAAC,gBAAS,CAAC;wBACT,QAAQ,EAAE,QAAQ;wBAClB,QAAQ,EAAE,8vEA+CI;qBACf,CAAC;;gCAAA;gBA2BF,mBAAC;YAAD,CAzBA,AAyBC,IAAA;YAzBD,uCAyBC,CAAA","file":"app.component.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\n\nimport { AthleteService } from './athlete.service';\nimport { WebSocketService } from './websocket.service';\nimport { Athlete } from './athlete';\n\n@Component({\n  selector: 'my-app',\n  template: `<div class=\"flex-center position-ref full-height\">\t          \n\t            <div class=\"content\">              \n                <div class=\"title m-b-md\">\n                  Finiši Protokoll\n                </div>\n                <div><h4>Viimati lõpetanud</h4></div>\n                <table class=\"table table-striped\">\n                  <thead>\n                    <tr>                      \n                      <th>Stardinumber</th>\n                      <th>Nimi</th>\n                      <th>Esimese Punkti Aeg</th>\n                      <th>Teise Punkti Aeg</th>\n                    </tr>\n                  </thead>\n                  <tbody *ngIf=\"athletes\">                  \n                    <tr *ngFor=\"let athlete of athletes.slice(0,5)\">\n                      <td>{{athlete.starting_number}}</td>\n                      <td>{{athlete.name}}</td>\n                      <td *ngIf=\"athlete.timing_points[0]\">{{athlete.timing_points[0].pivot.time}}</td>\n                      <td *ngIf=\"athlete.timing_points[1]\">{{athlete.timing_points[1].pivot.time}}</td>\n                    </tr>\n                  </tbody>\n                </table>\n                <br/>\n                <br/>\n                <br/>\n                <div><h4>Ajalugu (varem lõpetanud)</h4></div>\n                <table class=\"table table-striped\">\n                  <thead>\n                    <tr>                      \n                      <th>Stardinumber</th>\n                      <th>Nimi</th>\n                      <th>Esimese Punkti Aeg</th>\n                      <th>Teise Punkti Aeg</th>\n                    </tr>\n                  </thead>\n                  <tbody *ngIf=\"athletes\">                  \n                    <tr *ngFor=\"let athlete of athletes.slice(5)\">\n                      <td>{{athlete.starting_number}}</td>\n                      <td>{{athlete.name}}</td>\n                      <td *ngIf=\"athlete.timing_points[0]\">{{athlete.timing_points[0].pivot.time}}</td>\n                      <td *ngIf=\"athlete.timing_points[1]\">{{athlete.timing_points[1].pivot.time}}</td>\n                    </tr>\n                  </tbody>\n                </table>                       \n\t            </div>\n\t        </div>`\n})\n\nexport class AppComponent implements OnInit {\n  athletes: Athlete[];\n\tconstructor(\n    private athleteService: AthleteService,\n    private websocketService: WebSocketService\n  ) { }\n\n  getAthletes(): void {\n    this.athleteService\n        .getAthletes()\n        .then(athletes => this.athletes = athletes);\n  }\n\n  initWebSocket(): void {\n    this.websocketService.constructor();\n    this.websocketService.updatedAthletes.subscribe(\n      resp => {\n        this.getAthletes();\n      });\n  }\n\n  ngOnInit() {\n    this.getAthletes();\n    this.initWebSocket();\n  }\n}"],"sourceRoot":"/source/"}